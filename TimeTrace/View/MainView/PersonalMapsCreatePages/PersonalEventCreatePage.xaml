<Page
    x:Class="TimeTrace.View.MainView.PersonalMapsCreatePages.NewEventCreatePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d">

	<Page.Resources>
		<ResourceDictionary>
			<Style TargetType="StackPanel">
				<Setter Property="Transitions">
					<Setter.Value>
						<TransitionCollection>
							<EntranceThemeTransition/>
						</TransitionCollection>
					</Setter.Value>
				</Setter>
			</Style>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="/ResourceDictionaries/MainDictionary.xaml"/>
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</Page.Resources>

	<Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition />
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="0.1*"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="0.1*"/>
		</Grid.ColumnDefinitions>

		<TextBlock Grid.Row="0" Grid.ColumnSpan="3" Text="Установка нового события календаря"
				   Foreground="SteelBlue" FontSize="35" Margin="20, 20, 20, 0" TextWrapping="WrapWholeWords"/>

		<ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="1" Margin="0, 10, 0, 10" VerticalAlignment="Center">

			<VariableSizedWrapGrid Orientation="Horizontal" HorizontalAlignment="Center">

				<StackPanel>

					<TextBox PlaceholderText="Задайте имя события" Header="Имя события*" Margin="15, 5, 15, 5" MaxLength="100" IsSpellCheckEnabled="True"
					 ToolTipService.ToolTip="Имя событие, отображаемое в календаре" Text="{x:Bind ViewModel.CurrentMapEvent.Name, Mode=TwoWay}" Width="350"/>

					<TextBox PlaceholderText="Задайте описание событию" Header="Описание события" MaxLength="400" Margin="15, 5, 15, 5" TextWrapping="Wrap"
						 AcceptsReturn="True" ToolTipService.ToolTip="Описание события" Text="{x:Bind ViewModel.CurrentMapEvent.Description, Mode=TwoWay}"
						 IsSpellCheckEnabled="True" MaxHeight="120" Height="120"/>

					<CalendarDatePicker PlaceholderText="Установите дату события" Header="Дата события*" Margin="15, 5, 15, 5"
							DateFormat="{}{day.integer} {month.full} {year.full}"
							Date="{x:Bind ViewModel.CurrentMapEvent.EventDate, Mode=TwoWay}"
							MinDate="{x:Bind ViewModel.MinDate}" ToolTipService.ToolTip="Дата, к которой будет привязано событие"/>

					<TimePicker Margin="15, 5, 15, 5" Header="Время начала события" ToolTipService.ToolTip="Время, к которому будет привязано событие"
							Time="{x:Bind ViewModel.CurrentMapEvent.EventTime, Mode=TwoWay}"/>

				</StackPanel>

				<StackPanel>
					
					<ComboBox Grid.Column="1" Header="Объект привязки" Margin="15, 5, 15, 5" HorizontalAlignment="Stretch" PlaceholderText="Объект привязки"
						ToolTipService.ToolTip="Объект привязки" SelectedIndex="{x:Bind ViewModel.BindingObjectIndex, Mode=TwoWay}">
						<ComboBoxItem Content="Место"/>
						<ComboBoxItem Content="Человек"/>
						<ComboBoxItem Content="Человек и место"/>
					</ComboBox>

					<TextBox PlaceholderText="Выберите место события" Header="Место события" Margin="15, 5, 15, 5"
						ToolTipService.ToolTip="Место, привязываемое к событию" Text="{x:Bind ViewModel.CurrentMapEvent.Place, Mode=TwoWay}"
						Visibility="{x:Bind ViewModel.IsSelectPlace, Mode=OneWay}" MaxLength="100" IsSpellCheckEnabled="True"/>

					<AutoSuggestBox PlaceholderText="Человек связанный с событием" Header="Имя контакта" Margin="15, 5, 15, 5"
						ToolTipService.ToolTip="Имя человека, к которому привязывается событие"
						Text="{x:Bind ViewModel.CurrentMapEvent.UserBind.LastName, Mode=TwoWay}"
						Visibility="{x:Bind ViewModel.IsSelectMan, Mode=OneWay}"/>

				</StackPanel>

				<StackPanel>

					<ToggleSwitch Name="IsAllDayLongToggleSwitch" Header="Весь день?" OffContent="Да" OnContent="Нет" Margin="15, 5, 15, 5"/>

					<TimePicker Margin="15, 5, 15, 5" Header="Длительность" ToolTipService.ToolTip="Длительность создаваемого события"
							Time="{x:Bind ViewModel.CurrentMapEvent.EventDuration, Mode=TwoWay}" IsEnabled="{Binding ElementName=IsAllDayLongToggleSwitch, Path=IsOn}"/>

					<ToggleSwitch Name="IsRepeatToggleSwitch" Header="Повторяемое событие?" OffContent="Нет" OnContent="Да" Margin="15, 5, 15, 5"/>

					<ComboBox Header="Интервал повторения" Margin="15, 5, 15, 5" HorizontalAlignment="Stretch" PlaceholderText="Интервал повторения"
						ToolTipService.ToolTip="Как часто будет происходить напоминание"
						IsEnabled="{Binding ElementName=IsRepeatToggleSwitch, Path=IsOn, Mode=TwoWay}">
						<ComboBoxItem Content="Каждый день"/>
						<ComboBoxItem Content="Через день"/>
						<ComboBoxItem Content="Раз в неделю"/>
						<ComboBoxItem Content="Раз в месяц"/>
						<ComboBoxItem Content="Раз в год"/>
						<ComboBoxItem Content="Свой вариант"/>
					</ComboBox>

				</StackPanel>

			</VariableSizedWrapGrid>

		</ScrollViewer>

		<StackPanel Grid.Row="2" Grid.ColumnSpan="4" Margin="0, 0, 0, 25" HorizontalAlignment="Center">
			<TextBlock Text="* - обязательные поля" FontSize="10" Margin="0, 0, 0, 10" Foreground="Gray"/>
			<Button Content="Создать событие" Background="SteelBlue" Foreground="White" 
				Click="{x:Bind ViewModel.EventCreate}"/>
		</StackPanel>

	</Grid>
</Page>